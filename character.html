<script id="character">
// Tooltip, hover over character to see some stats
        var char_tooltip = d3.select("body")
                .append("div")
		.attr("id", "char-info")                
		.style("position", "absolute")
                .style("z-index", "10")
                .style("visibility", "hidden")
                .html(charData["name"] + "<br>" 
			+ "Race: " + String(charData["race"]) + "<br>"
			+ "Health: " + String(charData["health"]) + "<br>"
			+ ""); //add extra eliments to be displayed to the char tooltip

	function updateToolTip(charData){
		h = charData["name"] + "<br>"
		+ "Race: " + String(charData["race"]) + "<br>"
		+ "Health: " + String(charData["health"]) + "<br>"
		return h
	}

// if the character goes off to the east, then they show up on the west side of the next cell component.	
	function alighnCharacter() {
		if ("arriveFrom" in charData) {
			if (charData["arriveFrom"] == "North"){
				char_x = width/2
				char_y = height-55
			}	
			if (charData["arriveFrom"] == "South"){
				char_x = width/2
				char_y = 55
			}
			if (charData["arriveFrom"] == "East"){
				char_x = 55
				char_y = height/2
			}	
			if (charData["arriveFrom"] == "West"){
				char_x = width-55
				char_y = height/2
			}	
		}
	}
		
	alighnCharacter(); //if character came from somewhere, charData[arriveFrom] will reset the origin

// main charater object
        var playerChar = canvas.append("circle" )
		.attr("id", "character")
                .attr("cx", char_x)
                .attr("cy", char_y)
                .attr("r", charData["size"])
		.style("z-index", "9")
                .on("mouseover", function(){
					char_tooltip.style("visibility", "visible");
					})
                .on("mousemove", function(){
					char_tooltip.style("top", (event.pageY-10)+"px").style("left",(event.pageX+10)+"px");
				})
				
                .on("mouseout", function(){
					char_tooltip.style("visibility", "hidden");
					})
                .on("click", function(){
					});

// What happens if the character dies
function charDeath(){
	playerChar.transition()
		.attr("fill","red");
	charData["speed"] = 0
	d3.select("#text-window").html(charData["name"] + " has died!!")
}
</script>
