<script id="character">
       // main charater object
        var char_tooltip = d3.select("body")
                .append("div")
		.attr("id", "char-info")                
		.style("position", "absolute")
                .style("z-index", "10")
                .style("visibility", "hidden")
                .html(charData["name"] + "<br>" 
			+ "x: " + String(char_x) 
			+ " y: " + String(char_y)
			+ ""); //add extra eliments to be displayed to the char tooltip

        var inventory = canvas.append("rect")    
		.attr("x", 10)
		.attr("y", 10)                
		.attr("width", 10)
		.attr("height", 10)
		.attr("id", "inventory")                
                .style("z-index", "10")
                .style("visibility", "visible")
	
	function alighnCharacter() {
		if ("arriveFrom" in charData) {
			if (charData["arriveFrom"] == "North"){
				char_x = width/2
				char_y = height-55
			}	
			if (charData["arriveFrom"] == "South"){
				char_x = width/2
				char_y = 55
			}
			if (charData["arriveFrom"] == "East"){
				char_x = 55
				char_y = height/2
			}	
			if (charData["arriveFrom"] == "West"){
				char_x = width-55
				char_y = height/2
			}	
		}
	}
		
	alighnCharacter(); //if character came from somewhere, charData[arriveFrom] will reset the origin

        var playerChar = canvas.append("circle" )
		.attr("id", "character")
                .attr("cx", char_x)
                .attr("cy", char_y)
                .attr("r", charData["size"])
		.style("z-index", "9")
                .on("mouseover", function(){
					char_tooltip.style("visibility", "visible");
					})
                .on("mousemove", function(){
					char_tooltip.style("top", (event.pageY-10)+"px").style("left",(event.pageX+10)+"px");
				})
				
                .on("mouseout", function(){
					char_tooltip.style("visibility", "hidden");
					})
                .on("click", function(){
					});
</script>
