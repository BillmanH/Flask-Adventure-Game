<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<script type="text/javascript" src="{{ url_for('static', filename='d3.v3.min.js') }}"></script>
	<link rel="stylesheet" href="{{ url_for('static', filename='mobile.css') }}" type="text/css" media="only screen and (max-width: 600px)"/>
</head>
<body>
	<h1>
	Adventures in D3!
	</h1>
	<p>
	Welcom to my Flask adventure game, using D3.js and Flask.py
	</p>
</body>

<script>

var forms = [
	{name:"new",
	title:"Start New Game"},
	{name:"load",
	title:"Load Saved Game"},
	{name:"stats",
	title:"View Account Info"}
	]

var width = 960, height = 500;

var svg = d3.select('body').append('svg')
	.attr('width', width)
	.attr('height', height);

var selection = "None"

//function openWindow(m)
var options = svg.selectAll('.options')
	.data(forms)
	.enter()
	.append('g')
	.attr('data-name',function(d){return d.name})
 	.on("click", function(element){
		options.selectAll('rect')
		.transition()
		.style('fill','black');
		options.selectAll('text')
		.attr('fill','white');
		d3.select(this).selectAll('rect')
		.transition()
		.style('fill','blue');
		selection = "." + d3.select(this).attr('data-name')
		console.log(selection);
		d3.selectAll('.userform')
			.transition()
			.duration(500)
			.attr('height',5);

		d3.select(selection)
			.transition()
			.duration(500)
			.attr('height',300);
	})
	
options.append('rect')
	.attr('x', 0)
	.attr('y',function(d,i){return i*41})
	.attr('height',40)
	.attr('width',200)
	.style('fill','blue')
	.attr('class', 'button')

options.append("text")
	.text(function(d){
		return d.title
		})
	.attr('x',5)
	.attr('y',function(d,i){return i*42+20})
	.attr("font-size", "19px")
	.attr("fill", "black")
	.attr("font-family","sans-serif")

var userform = svg.selectAll('.userform')
	.data(forms)
	.enter()
	.append('rect')
	.attr('x', 0)
	.attr('y',forms.length *42+5)
	.attr('height',10)
	.attr('width',width)
	.style('fill','blue')
	.attr('class', function(d){return d.name})
	.classed('userform',true)

</script>

